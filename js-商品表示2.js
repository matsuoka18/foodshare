
function but1() {
  document.getElementById("but1").style.backgroundColor = "#C6AC8F";
  document.getElementById("but1").style.border = "none";
  document.getElementById("but2").style.backgroundColor = "white";
  document.getElementById("but2").style.borderStyle = "solid";
  document.getElementById("but2").style.borderWidth = "1px";
  document.getElementById("but2").style.borderColor = "#3A1F00";
  document.getElementById("but3").style.backgroundColor = "white";
  document.getElementById("but3").style.borderStyle = "solid";
  document.getElementById("but3").style.borderWidth = "1px";
  document.getElementById("but3").style.borderColor = "#3A1F00";
  document.getElementById("but4").style.backgroundColor = "white";
  document.getElementById("but4").style.borderStyle = "solid";
  document.getElementById("but4").style.borderWidth = "1px";
  document.getElementById("but4").style.borderColor = "#3A1F00";
  document.getElementById("but5").style.backgroundColor = "white";
  document.getElementById("but5").style.borderStyle = "solid";
  document.getElementById("but5").style.borderWidth = "1px";
  document.getElementById("but5").style.borderColor = "#3A1F00";
  document.getElementById("but6").style.backgroundColor = "white";
  document.getElementById("but6").style.borderStyle = "solid";
  document.getElementById("but6").style.borderWidth = "1px";
  document.getElementById("but6").style.borderColor = "#3A1F00";
  document.getElementById("button11").style.opacity = "1";
  document.getElementById("button11").style.display = "block";
  document.getElementById("button22").style.opacity = "0";
  document.getElementById("button22").style.display = "none";
  document.getElementById("button33").style.opacity = "0";
  document.getElementById("button33").style.display = "none";
  document.getElementById("button44").style.opacity = "0";
  document.getElementById("button44").style.display = "none";
  document.getElementById("button55").style.opacity = "0";
  document.getElementById("button55").style.display = "none";
  document.getElementById("button66").style.opacity = "0";
  document.getElementById("button66").style.display = "none";
  document.getElementById("hey").style.display = "block";
  document.getElementById("hey2").style.display = "block";
  document.getElementById("hey3").style.display = "block";
  document.getElementById("allshow").style.display = "none";
}
function but2() {
  document.getElementById("but2").style.backgroundColor = "#C6AC8F";
  document.getElementById("but2").style.border = "none";
  document.getElementById("but1").style.backgroundColor = "white";
  document.getElementById("but1").style.borderStyle = "solid";
  document.getElementById("but1").style.borderWidth = "1px";
  document.getElementById("but1").style.borderColor = "#3A1F00";
  document.getElementById("but3").style.backgroundColor = "white";
  document.getElementById("but3").style.borderStyle = "solid";
  document.getElementById("but3").style.borderWidth = "1px";
  document.getElementById("but3").style.borderColor = "#3A1F00";
  document.getElementById("but4").style.backgroundColor = "white";
  document.getElementById("but4").style.borderStyle = "solid";
  document.getElementById("but4").style.borderWidth = "1px";
  document.getElementById("but4").style.borderColor = "#3A1F00";
  document.getElementById("but5").style.backgroundColor = "white";
  document.getElementById("but5").style.borderStyle = "solid";
  document.getElementById("but5").style.borderWidth = "1px";
  document.getElementById("but5").style.borderColor = "#3A1F00";
  document.getElementById("but6").style.backgroundColor = "white";
  document.getElementById("but6").style.borderStyle = "solid";
  document.getElementById("but6").style.borderWidth = "1px";
  document.getElementById("but6").style.borderColor = "#3A1F00";
  document.getElementById("button11").style.opacity = "0";
  document.getElementById("button11").style.display = "none";
  document.getElementById("button22").style.opacity = "1";
  document.getElementById("button22").style.display = "block";
  document.getElementById("button33").style.opacity = "0";
  document.getElementById("button33").style.display = "none";
  document.getElementById("button44").style.opacity = "0";
  document.getElementById("button44").style.display = "none";
  document.getElementById("button55").style.opacity = "0";
  document.getElementById("button55").style.display = "none";
  document.getElementById("button66").style.opacity = "0";
  document.getElementById("button66").style.display = "none";
  document.getElementById("hey").style.display = "block";
  document.getElementById("hey2").style.display = "block";
  document.getElementById("hey3").style.display = "block";
  document.getElementById("allshow").style.display = "none";
}
function but3() {
  document.getElementById("but1").style.backgroundColor = "white";
  document.getElementById("but1").style.borderStyle = "solid";
  document.getElementById("but1").style.borderWidth = "1px";
  document.getElementById("but1").style.borderColor = "#3A1F00";
  document.getElementById("but2").style.backgroundColor = "white";
  document.getElementById("but2").style.borderStyle = "solid";
  document.getElementById("but2").style.borderWidth = "1px";
  document.getElementById("but2").style.borderColor = "#3A1F00";
  document.getElementById("but3").style.backgroundColor = "#C6AC8F";
  document.getElementById("but3").style.border = "none";
  document.getElementById("but4").style.backgroundColor = "white";
  document.getElementById("but4").style.borderStyle = "solid";
  document.getElementById("but4").style.borderWidth = "1px";
  document.getElementById("but4").style.borderColor = "#3A1F00";
  document.getElementById("but5").style.backgroundColor = "white";
  document.getElementById("but5").style.borderStyle = "solid";
  document.getElementById("but5").style.borderWidth = "1px";
  document.getElementById("but5").style.borderColor = "#3A1F00";
  document.getElementById("but6").style.backgroundColor = "white";
  document.getElementById("but6").style.borderStyle = "solid";
  document.getElementById("but6").style.borderWidth = "1px";
  document.getElementById("but6").style.borderColor = "#3A1F00";
  document.getElementById("button11").style.opacity = "0";
  document.getElementById("button11").style.display = "none";
  document.getElementById("button22").style.opacity = "0";
  document.getElementById("button22").style.display = "none";
  document.getElementById("button33").style.opacity = "1";
  document.getElementById("button33").style.display = "block";
  document.getElementById("button44").style.opacity = "0";
  document.getElementById("button44").style.display = "none";
  document.getElementById("button55").style.opacity = "0";
  document.getElementById("button55").style.display = "none";
  document.getElementById("button66").style.opacity = "0";
  document.getElementById("button66").style.display = "none";
  document.getElementById("hey").style.display = "block";
  document.getElementById("hey2").style.display = "block";
  document.getElementById("hey3").style.display = "block";
  document.getElementById("allshow").style.display = "none";
}
function but4() {
  document.getElementById("but1").style.backgroundColor = "white";
  document.getElementById("but1").style.borderStyle = "solid";
  document.getElementById("but1").style.borderWidth = "1px";
  document.getElementById("but1").style.borderColor = "#3A1F00";
  document.getElementById("but2").style.backgroundColor = "white";
  document.getElementById("but2").style.borderStyle = "solid";
  document.getElementById("but2").style.borderWidth = "1px";
  document.getElementById("but2").style.borderColor = "#3A1F00";
  document.getElementById("but3").style.backgroundColor = "white";
  document.getElementById("but3").style.borderStyle = "solid";
  document.getElementById("but3").style.borderWidth = "1px";
  document.getElementById("but3").style.borderColor = "#3A1F00";
  document.getElementById("but4").style.backgroundColor = "#C6AC8F";
  document.getElementById("but4").style.border = "none";
  document.getElementById("but5").style.backgroundColor = "white";
  document.getElementById("but5").style.borderStyle = "solid";
  document.getElementById("but5").style.borderWidth = "1px";
  document.getElementById("but5").style.borderColor = "#3A1F00";
  document.getElementById("but6").style.backgroundColor = "white";
  document.getElementById("but6").style.borderStyle = "solid";
  document.getElementById("but6").style.borderWidth = "1px";
  document.getElementById("but6").style.borderColor = "#3A1F00";
  document.getElementById("button11").style.opacity = "0";
  document.getElementById("button11").style.display = "none";
  document.getElementById("button22").style.opacity = "0";
  document.getElementById("button22").style.display = "none";
  document.getElementById("button33").style.opacity = "0";
  document.getElementById("button33").style.display = "none";
  document.getElementById("button44").style.opacity = "1";
  document.getElementById("button44").style.display = "block";
  document.getElementById("button55").style.opacity = "0";
  document.getElementById("button55").style.display = "none";
  document.getElementById("button66").style.opacity = "0";
  document.getElementById("button66").style.display = "none";
      //一覧用
      document.getElementById("hey").style.display = "none";
      document.getElementById("hey2").style.display = "none";
      document.getElementById("hey3").style.display = "none";
      document.getElementById("allshow").style.display = "block";
      
}
function but5() {
  document.getElementById("but1").style.backgroundColor = "white";
  document.getElementById("but1").style.borderStyle = "solid";
  document.getElementById("but1").style.borderWidth = "1px";
  document.getElementById("but1").style.borderColor = "#3A1F00";
  document.getElementById("but2").style.backgroundColor = "white";
  document.getElementById("but2").style.borderStyle = "solid";
  document.getElementById("but2").style.borderWidth = "1px";
  document.getElementById("but2").style.borderColor = "#3A1F00";
  document.getElementById("but3").style.backgroundColor = "white";
  document.getElementById("but3").style.borderStyle = "solid";
  document.getElementById("but3").style.borderWidth = "1px";
  document.getElementById("but3").style.borderColor = "#3A1F00";
  document.getElementById("but4").style.backgroundColor = "white";
  document.getElementById("but4").style.borderStyle = "solid";
  document.getElementById("but4").style.borderWidth = "1px";
  document.getElementById("but4").style.borderColor = "#3A1F00";
  document.getElementById("but5").style.backgroundColor = "#C6AC8F";
  document.getElementById("but5").style.border = "none";
  document.getElementById("but6").style.backgroundColor = "white";
  document.getElementById("but6").style.borderStyle = "solid";
  document.getElementById("but6").style.borderWidth = "1px";
  document.getElementById("but6").style.borderColor = "#3A1F00";
  document.getElementById("button11").style.opacity = "0";
  document.getElementById("button11").style.display = "none";
  document.getElementById("button22").style.opacity = "0";
  document.getElementById("button22").style.display = "none";
  document.getElementById("button33").style.opacity = "0";
  document.getElementById("button33").style.display = "none";
  document.getElementById("button44").style.opacity = "0";
  document.getElementById("button44").style.display = "none";
  document.getElementById("button55").style.opacity = "1";
  document.getElementById("button55").style.display = "block";
  document.getElementById("button66").style.opacity = "0";
  document.getElementById("button66").style.display = "none";
  document.getElementById("hey").style.display = "block";
  document.getElementById("hey2").style.display = "block";
  document.getElementById("hey3").style.display = "block";
  document.getElementById("allshow").style.display = "none";
}
function but6() {
  document.getElementById("but1").style.backgroundColor = "white";
  document.getElementById("but1").style.borderStyle = "solid";
  document.getElementById("but1").style.borderWidth = "1px";
  document.getElementById("but1").style.borderColor = "#3A1F00";
  document.getElementById("but2").style.backgroundColor = "white";
  document.getElementById("but2").style.borderStyle = "solid";
  document.getElementById("but2").style.borderWidth = "1px";
  document.getElementById("but2").style.borderColor = "#3A1F00";
  document.getElementById("but3").style.backgroundColor = "white";
  document.getElementById("but3").style.borderStyle = "solid";
  document.getElementById("but3").style.borderWidth = "1px";
  document.getElementById("but3").style.borderColor = "#3A1F00";
  document.getElementById("but4").style.backgroundColor = "white";
  document.getElementById("but4").style.borderStyle = "solid";
  document.getElementById("but4").style.borderWidth = "1px";
  document.getElementById("but4").style.borderColor = "#3A1F00";
  document.getElementById("but5").style.backgroundColor = "white";
  document.getElementById("but5").style.borderStyle = "solid";
  document.getElementById("but5").style.borderWidth = "1px";
  document.getElementById("but5").style.borderColor = "#3A1F00";
  document.getElementById("but6").style.backgroundColor = "#C6AC8F";
  document.getElementById("but6").style.border = "none";
  document.getElementById("button11").style.opacity = "0";
  document.getElementById("button11").style.display = "none";
  document.getElementById("button22").style.opacity = "0";
  document.getElementById("button22").style.display = "none";
  document.getElementById("button33").style.opacity = "0";
  document.getElementById("button33").style.display = "none";
  document.getElementById("button44").style.opacity = "0";
  document.getElementById("button44").style.display = "none";
  document.getElementById("button55").style.opacity = "0";
  document.getElementById("button55").style.display = "none";
  document.getElementById("button66").style.opacity = "1";
  document.getElementById("button66").style.display = "block";
  document.getElementById("hey").style.display = "block";
  document.getElementById("hey2").style.display = "block";
  document.getElementById("hey3").style.display = "block";
  document.getElementById("allshow").style.display = "none";
}
sn='';
sn2 ='';
cd="";
function start(){
 cd= document.cookie;
 // cd = 'branch=menu|; menumemo={"shop1":[0,22,38],"shop7":[14,36,52],"shop13":[4,26,42],"shop19":[1,23,39],"shop25":[1,23,39],"shop31":[1,23,39],"shop37":[1,23,39],"shop43":[1,23,39],"shop49":[1,23,39],"shop55":[23,39],"shop61":[23,39],"shop67":[23,39],"shop73":[23,39],"shop79":[23,39],"last":[79]}-; loginID=%E5%85%AB%E7%99%BE%E5%B1%8B!; pass=%E3%82%84%E3%81%BE%E3%81%8D?; shopnumber=85#; searchname=hello^;searchnum=85$';
console.log(cd);
      num1 = cd.indexOf("searchnum=");
      num2 = cd.indexOf("$");
      num3 = cd.indexOf("searchname=");
      num4 = cd.indexOf("^");
      num5 = cd.indexOf("cookienum=");
      num7 = cd.indexOf("favoritenuml=");
      if(num5 == -1){
      console.log("商品カートデータなし")
      }else{
      num6 = cd.indexOf(">>?");
      cn = cd.substring(num5+10,num6);
      console.log("cookienum:"+cn);
      }
      if(num7 == -1){
      console.log("favoritenumなし→作成");
      favoritenuml = 0;
      data = "favoritenuml=0>>!";
      document.cookie = data;
      console.log("favoritenuml:"+favoritenuml);
      }else{
      num8 = cd.indexOf(">>!");
      favoritenuml = cd.substring(num7+13,num8);
      favoritenuml = parseInt(favoritenuml);
      if(favoritenuml == "NaN"){
        console.log("favoritenuml ERROR");
      }
      console.log("favoritenuml:"+favoritenuml);
      }

      sn = cd.substring(num1+10,num2);
      sn2 = decodeURI(cd.substring(num3+11,num4));
   document.getElementById("shopname").innerHTML = sn2;
   document.getElementById("shopname2").innerHTML = sn2;  
      sn = cd.substring(num1+10,num2);
      sn2 = decodeURI(cd.substring(num3+11,num4));
      console.log(sn+":"+sn2);
     setTimeout(startt,1000)
     }
     function startt(){
     console.log("loading start");
  url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
var data = [{
"name4":"店舗商品取得",
  "name5":sn,
"branch":"menudata"
}]
var params={
"method":"post",
"mode":"no-cors",
"Content-Type":"application/json",
"body":JSON.stringify(data)
}
fetch(url,params);
setTimeout(start1,3000);
}
function start1(){
console.log("getting start");
  url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
  fetch(url,{
      method:"GET",
      mode:"cors"
  })
  .then(response =>{
      if(response.ok){
          return response.json()
      }
  })
  .then(resJson =>{
jsondata = resJson;
      console.log("データ取得");
      setTimeout(start11,1000);
  })
  .catch(error =>{
      alert("エラー");
  })

}
function start11(){
            data = jsondata.data;
      console.log("データ："+data);
    pre = data[0].pre;
      console.log(pre);
    city = data[0].city;
      console.log(city);
    city2 = data[0].city2;
      console.log(city2);
    adress = data[0].adress;
      console.log(adress);
    mailad = data[0].mailnum;
      console.log(mailad);
      phonead = data[0].phonenum;
      console.log(phonead);
    intro = data[0].intro;
      console.log(intro);
    time = data[0].time;
      console.log(time);
    adress = pre+city+city2+adress;
      console.log(adress);
    document.getElementById("adress").innerHTML = adress;
    document.getElementById("time").innerHTML = time;
    document.getElementById("phone").innerHTML = phonead;
    document.getElementById("introduce").innerHTML =intro ;
    document.getElementById("adress2").innerHTML = adress;
    document.getElementById("time2").innerHTML = time;
    document.getElementById("mailad2").innerHTML = mailad;
    document.getElementById("phone2").innerHTML = phonead;
                      console.log("データ取得入力完了");
                      getmenu();
}
function getmenu(){
console.log("メニューデータ取得開始→");
url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
data = [{
  "name5":sn,
  "branch":"changedata"
}]
params = {
  "method":"post",
  "mode":"no-cors",
  "Content-Type":"application/json",
  "body":JSON.stringify(data)
}
fetch(url,params)
console.log("メニューデータリクエスト→")
setTimeout(getmenu2,2000)
}
mjson = '';
function getmenu2(){
url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
fetch(url,{
  "method":"GET",
  "mode":"cors"
})
.then(response =>{
  if(response.ok){
    return response.json()
  }
})
.then(resJson =>{
mjson = resJson;
console.log("メニューデータ取得完了");
getmenu3();
})
.catch(error =>{
  console.log("通信エラー");
  alert("通信エラー");
})
}
lastn = 0;
pagecount = 1;
function getmenu3(){
json = mjson.changedata[0]
last = json.last;
console.log(last);
lastn = lastn +10;
if(lastn > last){
  lastn = last;
}
for(var a=0; a<lastn; a++){
  mname = mjson.changedata[0].name[a];
  mfee = mjson.changedata[0].fee[a];
  mexpress = mjson.changedata[0].express[a];
  data = "<div class="+"\""+"menu1"+"\""+"><img src="+"\""+"a.jpeg"+"\""+" class="+"\""+"menupic"+"\""+"><h2 class="+"\""+"time1  hh2"+"\""+"id="+"\""+"menuh2"+"\""+">"+mname+"</h2><img src="+"\""+"star2.PNG"+"\""+" class="+"\""+"star"+"\""+"id="+"\""+"star"+a+"\""+"><p>"+mexpress+"</p><div class="+"\""+"imgs"+"\""+"><img src="+"\""+"レビュー.PNG"+"\""+" class="+"\""+"review"+"\""+" onclick="+"\""+"review"+a+"()"+"\""+"><img src="+"\""+"お気に入り.PNG"+"\""+" class="+"\""+"review2"+"\""+" id="+"\""+"favorite"+a+"\""+"onclick="+"\""+"fevo"+a+"()"+"\""+"></div><h4>"+mfee+"<span>"+"円"+"</span></h4></div>";
  allshow2.insertAdjacentHTML("beforeend",data);
}
number = parseInt(last/10)+1;
console.log("number:"+number);
for(var a=1; a<=number; a++){
  data = "<div class="+"\""+"wp1"+"\""+"id="+"\""+"wp"+a+"\""+">"+a+"</div>";
  wp.insertAdjacentHTML("beforeend",data)
}
document.getElementById("wp1").style.backgroundColor = "#3A1F00";
for(var a =0; a<favoritenuml; a++){
number = numlist[a];
if(number < 10){
text = "favorite"+number;
document.getElementById(text).style.backgroundColor = "pink";
}
}
if(favoritenuml > 0){
  console.log("favocheck");
  favocheck();
}
}
messagep = '';
function plus(){
//毎回cookieを呼び出してお気に入りが消えないように[商品番号をcookieに]
n1=0;
n2=0;
n3=0;
n4=0;
n5=0;
n6=0;
n7=0;
n8=0;
n9=0;
n10=0;
if(messagep == "end"){
  alert("最後のページです");
  return;
}

messagep='';
var text = "wp"+pagecount;
document.getElementById(text).style.backgroundColor = "#C6AC8F";
pagecount+=1;
var text = "wp"+pagecount;
document.getElementById(text).style.backgroundColor = "#3A1F00";
last2 = lastn;
lastn3 = 0;
lastn = lastn+10;
element = document.getElementById("allshow2");
element.remove();
data = "<div class="+"\""+"allshow2"+"\""+" id="+"\""+"allshow2"+"\""+"></div>";
allshow.insertAdjacentHTML("afterbegin",data);
if(lastn >= last){
  lastn = last;
}
for(var a = last2; a<lastn; a++){
lastn3++;
mname = mjson.changedata[0].name[a];
   mfee = mjson.changedata[0].fee[a];
   mexpress = mjson.changedata[0].express[a];
   data = "<div class="+"\""+"menu1"+"\""+"><img src="+"\""+"a.jpeg"+"\""+" class="+"\""+"menupic"+"\""+"><h2 class="+"\""+"time1  hh2"+"\""+"id="+"\""+"menuh2"+"\""+">"+mname+"</h2><img src="+"\""+"star2.PNG"+"\""+" class="+"\""+"star"+"\""+"id="+"\""+"star"+lastn3+"\""+"><p>"+mexpress+"</p><div class="+"\""+"imgs"+"\""+"><img src="+"\""+"レビュー.PNG"+"\""+" class="+"\""+"review"+"\""+" onclick="+"\""+"review"+lastn3+"()"+"\""+"><img src="+"\""+"お気に入り.PNG"+"\""+" class="+"\""+"review2"+"\""+" id="+"\""+"favorite"+lastn3+"\""+"onclick="+"\""+"fevo"+lastn3+"()"+"\""+"></div><h4>"+mfee+"<span>"+"円"+"</span></h4></div>";
   allshow2.insertAdjacentHTML("beforeend",data);
 }
 for(var a =0; a<favoritenuml; a++){
  number = numlist[a];
  if(last2 < number < lastn){
    text = "favorite"+number;
    document.getElementById(text).style.backgroundColor = "pink";
  }
  }
 if(lastn >= last){
   lastn = last2;
   messagep = "end";
 }
 for(var a = 0; a<numlist2; a++){
  var num = numlist[a];
  if(last2 < num < lastn){
    num2 = pagecount*10-10;
    num = num-num2;
    console.log("num"+num);
    var text = "favorite"+num;
    document.getElementById(text).style.backgroundColor = "pink";
  }
}
}
function mina(){
//毎回cookieを呼び出してお気に入りが消えないように[商品番号をcookieに]
n1=0;
n2=0;
n3=0;
n4=0;
n5=0;
n6=0;
n7=0;
n8=0;
n9=0;
n10=0;
if(pagecount < 1){
  pagecount =1;
}
if(messagep == "first"){
  alert("最初のページです");
  return;
}
if(messagep == "end"){
  last2 = lastn-10;
}else{
last2 = lastn-20;
lastn = lastn-10;
}
messagep = '';
var text = "wp"+pagecount;
document.getElementById(text).style.backgroundColor = "#C6AC8F";
pagecount-=1;
var text = "wp"+pagecount;
document.getElementById(text).style.backgroundColor = "#3A1F00";
lastn3 = 0;
element = document.getElementById("allshow2");
element.remove();
data = "<div class="+"\""+"allshow2"+"\""+" id="+"\""+"allshow2"+"\""+"></div>"
allshow.insertAdjacentHTML("afterbegin",data)
if(last2 <= 0){
  last2 = 0;
  if(lastn >= last){
   lastn = last;
  }else{
    lastn = 10;
  }
  messagep = "first";
}
for(var a = last2; a<lastn; a++){
lastn3++;
mname = mjson.changedata[0].name[a];
  mfee = mjson.changedata[0].fee[a];
  mexpress = mjson.changedata[0].express[a];
  data = "<div class="+"\""+"menu1"+"\""+"><img src="+"\""+"a.jpeg"+"\""+" class="+"\""+"menupic"+"\""+"><h2 class="+"\""+"time1  hh2"+"\""+"id="+"\""+"menuh2"+"\""+">"+mname+"</h2><img src="+"\""+"star2.PNG"+"\""+" class="+"\""+"star"+"\""+"id="+"\""+"star"+lastn3+"\""+"><p>"+mexpress+"</p><div class="+"\""+"imgs"+"\""+"><img src="+"\""+"レビュー.PNG"+"\""+" class="+"\""+"review"+"\""+" onclick="+"\""+"review"+lastn3+"()"+"\""+"><img src="+"\""+"お気に入り.PNG"+"\""+" class="+"\""+"review2"+"\""+" id="+"\""+"favorite"+lastn3+"\""+"onclick="+"\""+"fevo"+lastn3+"()"+"\""+"></div><h4>"+mfee+"<span>"+"円"+"</span></h4></div>";
  allshow2.insertAdjacentHTML("beforeend",data);
}
for(var a =0; a<favoritenuml; a++){
  number = numlist[a];
  if(last2 < number < lastn){
    text = "favorite"+number;
    document.getElementById(text).style.backgroundColor = "pink";
  }
  }
if(messagep == "first"){
  lastn = last2;
}
for(var a = 0; a<numlist2; a++){
  var num = numlist[a];
  if(last2 < num < lastn){
    num2 = pagecount*10-10;
    num = num-num2;
    console.log("num"+num);
    var text = "favorite"+num;
    document.getElementById(text).style.backgroundColor = "pink";
  }
}
}
function start2(){
url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
var data = [{
"branch":"shopdata"
}]
var params={
"method":"post",
"mode":"no-cors",
"Content-Type":"application/json",
"body":JSON.stringify(data)
}
fetch(url,params);
console.log("firstsearch1 ok")
setTimeout(firstsearch2,2000);
}
firstdata1 = '';
firstdata2 = '';
success1 =  '';
success2 =  '';
function firstsearch2(){
fetch('https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec',{
  method:"GET",
  mode:"cors"
})
.then(response =>{
  if(response.ok){
    return response.json()
  }
})
.then(resJson =>{
firstdata1 = resJson;
success1 = "ok";
console.log("firstsearch2 ok");
console.log("firstsearch finish");
console.log("firstmenusearch start>>");
firstmenu();

})
.catch(error =>{
num = 1;
ani();
$('#ss').clearQueue();
$('#ss').stop();
document.getElementById("ss").innerHTML = "search";
document.getElementById("s").style.backgroundColor ="#5A3A1A";

alert("通信失敗1")
})
}
function firstmenu(){
console.log("menusearch ok");
url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
var data = [{
"branch":"menu"
}]
var params={
"method":"post",
"mode":"no-cors",
"Content-Type":"application/json",
"body":JSON.stringify(data)
}
fetch(url,params);
console.log("firstmenusearch1 ok");
setTimeout(firstmenu2,2000);
}
function firstmenu2(){
console.log("menu2 ok");
fetch('https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec',{
  method:"GET",
  mode:"cors"
})
.then(response =>{
  if(response.ok){
    return response.json()
  }
})
.then(resJson =>{
  console.log("firstmenusearch2 ok");
firstdata2 = resJson;
console.log("firstdata 1/2 finish");
console.log("wait for instructions");
success2 = "ok";
})
.catch(error =>{
num = 1;  
ani();
$('#ss').clearQueue();
$('#ss').stop();
document.getElementById("ss").innerHTML = "search";
document.getElementById("s").style.backgroundColor ="#5A3A1A";

alert("通信失敗2")
})
}

function pic(){
  if(a == 0){
    a = 1;
  document.getElementById("img").src="food.jpeg";
  setTimeout(pic,5000);
  }else{
    a = 0;
    document.getElementById("img").src="IMG_0064.JPG";
    setTimeout(pic,5000);
}
}
function shop(){
location.href="登録ページ.html";
}
document.getElementById("search").addEventListener('keyup',event =>{
if(event.keyCode == 13){
searching();
}
});

//取得時に全データ取得　始
firstdata1 = '';
firstdata2 = '';
success1 =  '';
success2 =  '';
request1 = '';
request2 = '';
request3 = '';
function firstsearch(){
url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
var data = [{
"branch":"shopdata"
}]
var params={
"method":"post",
"mode":"no-cors",
"Content-Type":"application/json",
"body":JSON.stringify(data)
}
fetch(url,params);
console.log("firstsearch1 ok")
success1 = "o";
setTimeout(firstsearch2,2000);
}

function firstsearch2(){
fetch('https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec',{
  method:"GET",
  moe:"cors"
})
.then(response =>{
  if(response.ok){
    return response.json()
  }
})
.then(resJson =>{
firstdata1 = resJson;
success1 = "ok";
console.log("firstsearch2 ok");
console.log("firstsearch finish");
console.log("firstmenusearch start>>");
if(request1 == "next"){
console.log("shopsearchへ優先処理")
shopsearch(resJson);
}else{
firstmenu();
}
})
.catch(error =>{
num = 1;
ani();
$('#ss').clearQueue();
$('#ss').stop();
document.getElementById("ss").innerHTML = "search";
document.getElementById("s").style.backgroundColor ="#5A3A1A";

alert("通信失敗1")
})
}
function firstmenu(){
if(request2 == "nomal"){
console.log("menusearch 通常処理　受付");
return;
}
console.log("firstmenusearch ok");
url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
var data = [{
"branch":"menu"
}]
var params={
"method":"post",
"mode":"no-cors",
"Content-Type":"application/json",
"body":JSON.stringify(data)
}
fetch(url,params);
console.log("firstmenusearch1 ok");
success2 = "o";
setTimeout(firstmenu2,2000);
}
function firstmenu2(){
if(request2 == "nomal"){
console.log("menusearch 通常処理　受付");
return;
}
console.log("firstmenu2 ok");
fetch('https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec',{
  method:"GET",
  moe:"cors"
})
.then(response =>{
  if(response.ok){
    return response.json()
  }
})
.then(resJson =>{
  console.log("firstmenusearch2 ok");
firstdata2 = resJson;
console.log("firstdata 1/2 finish");
console.log("wait for instructions");
success2 = "ok";
if(request2 == "next"){
console.log("menusearch2へ優先処理  in menu2")
menusearch2(resJson);
}
})
.catch(error =>{
num = 1;  
ani();
$('#ss').clearQueue();
$('#ss').stop();
document.getElementById("ss").innerHTML = "search";
document.getElementById("s").style.backgroundColor ="#5A3A1A";

alert("通信失敗2")
})
}
//ロード時に全データ取得のコード　終
shopname = '';
function searching(){
num = 100;
request3 = '';
ani();
document.getElementById("ss").innerHTML = "loading";
document.getElementById("s").style.backgroundColor ="#C6AC8F"
shopname = document.getElementById("search").value;
  if(success1 == "ok"){
  console.log("data:"+firstdata1)
shopsearch(firstdata1);
return;
}
if(success1 == "o"){
console.log("途中からのリクエスト1");
request1 = "next";
return; //違う可能性大
}else{
url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
var data = [{
"branch":"shopdata"
}]
var params={
"method":"post",
"mode":"no-cors",
"Content-Type":"application/json",
"body":JSON.stringify(data)
}
fetch(url,params);
setTimeout(searching2,3000);
}
}
function searching2(){
fetch('https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec',{
  method:"GET",
  moe:"cors"
})
.then(response =>{
  if(response.ok){
    return response.json()
  }
})
.then(resJson =>{
  if(request2 == "next"){
    console.log("menusearch2への優先処理");
    menusearch2(resJson);
    
  }
shopsearch(resJson);
})
.catch(error =>{
num = 1;
ani();
$('#ss').clearQueue();
$('#ss').stop();
document.getElementById("ss").innerHTML = "search";
document.getElementById("s").style.backgroundColor ="#5A3A1A";

alert("通信失敗1")
})
}

function shopsearch(resJson){
json = JSON.stringify(resJson);
json = JSON.parse(json);
a = "n1";
json = json.shopdata[0];
num = json.num+6;
for(a = -5; a<num; a+=6){
text = "n"+a;
shopname2 = json[text];
if(shopname == shopname2){
text2 = "searchnum="+a+"$";
shopname2 = encodeURI(shopname2);
text3 = "searchname="+shopname2+"^";
document.cookie = text2;
document.cookie = text3;
document.getElementById("ss").innerHTML = "jumping";
ttt = '';
document.cookie = "branch=shop|";
setTimeout(jump,1000);
return;
}
}
if(typeof ttt == 'undefined'){
/*alert("店舗を発見できません");
document.getElementById("ss").innerHTML = "search";
num = 1;
ani();
$('#ss').clearQueue();
$('#ss').stop();
document.getElementById("s").style.backgroundColor ="#5A3A1A";*/

if(success2 == "ok"){
console.log("data2:"+firstdata2);
menusearch2(firstdata2);
return;
}
if(success2 == "o"){
console.log("途中からのリクエスト2");
request2 = "next";
return;//間違えて可能性大
}else{
console.log("menusearch  通常処理")
request2 = "nomal";
menusearch();
}
}
}
function jump(){
num = 1;
ani();
document.getElementById("s").style.backgroundColor ="#5A3A1A";
if(typeof ttt == 'undefined'){
location.href="商品表示.html";
}else{
}
location.href="商品表示2.html";
}
function ani(){
//alert(num);
for(var a = 0; a<num; a++){
$("#ss").animate({
opacity:1
},{
'duration':0
})
$("#ss").animate({
opacity:0
},{
'duration':1000
})
$("#ss").animate({
opacity:1
},{
'duration':0
})
}
if(num == 1){
document.getElementById("ss").style.opacity = "1";
document.getElementById("s").style.backgroundColor ="#5A3A1A";
}
}
function menusearch(){
console.log("menusearch ok");
url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
var data = [{
"branch":"menu"
}]
var params={
"method":"post",
"mode":"no-cors",
"Content-Type":"application/json",
"body":JSON.stringify(data)
}
fetch(url,params);
setTimeout(menu2,3000);
}
function menu2(){
console.log("menu2 ok");
fetch('https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec',{
  method:"GET",
  moe:"cors"
})
.then(response =>{
  if(response.ok){
    return response.json()
  }
})
.then(resJson =>{
  console.log("menusearch2 ok");
menusearch2(resJson);
})
.catch(error =>{
num = 1;  
ani();
$('#ss').clearQueue();
$('#ss').stop();
document.getElementById("ss").innerHTML = "search";
document.getElementById("s").style.backgroundColor ="#5A3A1A";

alert("通信失敗2")
})
}


function menusearch2(resJson2){
if(request3 == "end"){
console.log("end")

}else{
jsonnn = JSON.stringify(resJson2);
console.log("JSON文字列↓");
console.log(jsonnn);
jsonn = JSON.parse(jsonnn);
console.log("JS文字列↓");
console.log(jsonn)
last = jsonn["last"];
console.log("last:"+last);
nummemo = [];
nummemo = [];
nummemo2 = [];
nummemo3 = 0;
for(var a = 1; a<=last; a+=6){
shopp  = String("shop"+a);
shoppi = "\""+shopp+"\""+":";
if(jsonnn.includes(shopp) === true){
menu = jsonn[shopp];
console.log(menu);
menulast = menu.length;
console.log(menulast);
}else{
console.log(shopp+":undefined");
}
for(var i = 0; i<menulast; i++){
menuname = menu[i];
if(menuname == shopname){
nummemo3++;
console.log(menuname+"発見");
i = String(i);
nummemo2.push(i);
console.log(nummemo2);
aa = 'ok';
}
}
if(typeof aa == 'string'){
nummemo2 = JSON.stringify(nummemo2);
console.log(nummemo2);
info = shoppi+nummemo2;
console.log(info);
nummemo.push(info);
nummemo2 = [];
aa = 0;
ss = String(a);
}
}
console.log(a)
if(a >= last && nummemo3 > 0){
console.log(nummemo);
nummemo = nummemo.toString().replace("\'","");
nummemo = "{"+nummemo+","+"\""+"last"+"\""+":"+"["+"\""+ss+"\""+"]"+"}";
console.log(nummemo);
console.log(nummemo3+":店舗発見")
num = 1;  
ani();
$('#ss').clearQueue();
$('#ss').stop();
document.getElementById("ss").innerHTML = "search";
document.getElementById("s").style.backgroundColor ="#5A3A1A";
cc = "menumemo="+nummemo+"-";
document.cookie = "branch=menu|";
document.cookie = cc;
document.getElementById("ss").innerHTML = "jumping";
jump();
}else{
ani();
$('#ss').clearQueue();
$('#ss').stop();
document.getElementById("ss").innerHTML = "search";
document.getElementById("s").style.backgroundColor ="#5A3A1A";
console.log("店舗・商品がありません");
alert("店舗・商品がありません");
/*if(request2 == "next"){
request3 = "end";
console.log("検索終了");
end();
}*/
if(success2 != "ok"){
request2 = '';
console.log("firstmenu  再トライ")
firstmenu();
}
request3 = "end";
console.log("検索終了");
end();
}
}
}
function end(){
console.log("検索 終了");
const flag = true;

try {

if (flag) {
throw new Error('終了します');
}
console.log('実行されないコード');

} catch (e) {

console.log(e.message);

}
}
cartnum = 0;
function カート(){
if(typeof cartt == 'undefined'){
  cookiedata1 = "shopcart"+"=";
  cookiedata2 = sn2+"@>";
  cookiedata = cookiedata1+cookiedata2;
  document.cookie = cookiedata;
  cartt = "finish";
  document.getElementById("cart").style.backgroundColor = "orange";
  document.getElementById("cart").style.fontWeight = "600";
  document.getElementById("cart").innerHTML = "追加済み";
    console.log("cookie add");
}else{
alert("すでにカートに追加されています");
//削除機能をつける
}
}

function cart2(){
menu = "hello";
if(typeof cn == 'undefined'){
cod1 = "cart"+cartnum+"="+menu+">"+cartnum;
document.cookie = cod1;
cartnum++;
cn = cartnum;
document.cookie = "cookienum=; max-age=0";
cod2 = "cookienum="+cn+">>?";
document.cookie = cod2;
//menuの名前を取得→"cartnum"でcookieに載せる→cartnum++→cnにcartnumを代入→最後にcookienumに変更を
}else{
cartnum = cn;
cod1 = "cart"+cartnum+"="+menu+">"+cartnum;
document.cookie = cod1;
cartnum++;
cn = cartnum;
document.cookie = "cookienum=; max-age=0";
cod2 = "cookienum="+cn+">>?";
document.cookie = cod2;
//cnを取得→その値をcartnumで使用→cartnum++→繰り返し→最後にcookienumに変更を
}
//削除機能をつける　はじめての場合（上）は空白の配列を作って代入して後で問い合わせる　2回目（下）は配列がない場合は作ってcookieからデータを取得して代入、または直で代入（はじめは上で次から下になった場合）
}
//cookienumの削除手順 1.cookienum=; max-age=0;に設定する

function back(){
document.getElementById("alll").style.display = "block";
document.getElementById("alll").style.opacity = "1";
document.getElementById("alll2").style.display = "none"; //
}
n = 0;
function reviewb(){
if(n == 0){
document.getElementById("r2").style.display = "block";
document.getElementById("a").innerHTML = "☓閉じる"
n++;
}else if(n == 1){
document.getElementById("r2").style.display = "none";
document.getElementById("a").innerHTML = "レビューを書く↓"
n =0;
}
}
n = 0;
rn = 0;
function ss1(){
rn = 1;
if(n == 0){
document.getElementById("s1").style.color = "#FFD700"
n++;
}else if(n ==1){
  n = 0;

  document.getElementById("s2").style.color = "gray"
  document.getElementById("s3").style.color = "gray"
  document.getElementById("s4").style.color = "gray"
  document.getElementById("s5").style.color = "gray"
}
}
nn1 = 0;
function ss2(){
rn = 2;
if(nn1 == 0){
  document.getElementById("s1").style.color = "#FFD700"
document.getElementById("s2").style.color = "#FFD700"
nn1++;
}else if(nn1 ==1){
  document.getElementById("s2").style.color = "gray"
  document.getElementById("s3").style.color = "gray"
  document.getElementById("s4").style.color = "gray"
  document.getElementById("s5").style.color = "gray"
  nn1 = 0;
}
}
nn2 = 0;
function ss3(){
rn = 3;
if(nn2 == 0){
  document.getElementById("s1").style.color = "#FFD700"
  document.getElementById("s2").style.color = "#FFD700"
document.getElementById("s3").style.color = "#FFD700"
nn2++;
}else if(nn2 ==1){
  nn2 = 0;
  document.getElementById("s3").style.color = "gray"
  document.getElementById("s4").style.color = "gray"
  document.getElementById("s5").style.color = "gray"
}
}
nn3 = 0;
function ss4(){
rn = 4;
if(nn3 == 0){
  document.getElementById("s1").style.color = "#FFD700"
  document.getElementById("s2").style.color = "#FFD700"
  document.getElementById("s3").style.color = "#FFD700"
document.getElementById("s4").style.color = "#FFD700"
nn3++;
}else if(nn3 ==1){
  nn3 = 0;
  document.getElementById("s4").style.color = "gray"
  document.getElementById("s5").style.color = "gray"
}
}
nn4 = 0;
function ss5(){
rn = 5;
if(nn4 == 0){
  document.getElementById("s1").style.color = "#FFD700"
  document.getElementById("s2").style.color = "#FFD700"
  document.getElementById("s3").style.color = "#FFD700"
document.getElementById("s4").style.color = "#FFD700"
document.getElementById("s5").style.color = "#FFD700"
nn4++;
}else if(nn4 ==1){
  nn4 = 0;
  document.getElementById("s5").style.color = "gray"
}
}
function rsend(){
 json =  [{"total":2.6,"rn":[2,0,2,0,1],"review1":["a","hello","hello","hello","hello","hello","hello"],"review2":["b","Hello World","Hello World","Hello World","Hello World","Hello World","Hello World"]}]
text1 = document.getElementById("text1").value;
text2 = document.getElementById("text2").value;
url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
data = [{
"review":text1,
"review2":text2,
"reviewnum":rn,
"reviewname":reviewname,
"rename":sn2,
"renamenum":sn,
"branch":"review"
}]
params = {
"method":"post",
"mode":"no-cors",
"Content-Type":"application/json",
"body":JSON.stringify(data)
}
fetch(url,params);
console.log("レビュー送信完了")
console.log("内容："+text1+"："+text2+"/"+rn)
document.getElementById("text1").value = "";
document.getElementById("text2").value = "";
}

function getreview(){
  url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
  data = [{
    "branch":"getreview",
    "rename":sn2,
    "renamenum":sn,
    "reviewname":reviewname
  }]
  params = {
    "method":"post",
    "mode":"no-cors",
    "Content-Type":"application/json",
    "body":JSON.stringify(data)
  }
  fetch(url,params);
  console.log("getreview request>>");
  setTimeout(getreview2,2000);
}
function getreview2(){
  url = "https://script.google.com/macros/s/AKfycbwBH_VrPaXcJg8HOXfoWHJY8f0Ir3935fqlJlURpyAkd8IdEQ/exec";
  fetch(url,{
    "method":"GET",
    "mode":"cors",
  })
  .then(response =>{
    if(response.ok){
      return response.json()
    }
  })
  .then(resJson =>{
    json = JSON.stringify(resJson);
    json = JSON.parse(json);
    console.log(json);
    getreview3();
  })
  .catch(error =>{
    alert("通信エラー");
    console.log("通信エラー");
   })
}

function getreview3(){
  if(json[0].message == "ERROR"){
    alert("レビューがまだありません");
    alll3.insertAdjacentHTML("beforeend","<h4>レビューはまだありません</h4>");
  }
  total = json[0].total;
document.getElementById("sogo").innerHTML = json[0].total;
document.getElementById("rnum1").innerHTML = json[0].rn[0];
document.getElementById("rnum2").innerHTML = json[0].rn[1];
document.getElementById("rnum3").innerHTML = json[0].rn[2];
document.getElementById("rnum4").innerHTML = json[0].rn[3];
document.getElementById("rnum5").innerHTML = json[0].rn[4];
length = json[0].review1.length;
//星はstar2に
if(length > 10){
 last = 9;
}else{
  last = length;
  document.getElementById("ppp").innerHTML = last+"件表示";
  final= '';
}
for(var a=0; a<last; a+=2){
  total2 = json[0].review3[a];
  total22 = json[0].review3[a+1]
  review1 = json[0].review1[a];
  review11 = json[0].review1[a+1];
  review2 = json[0].review2[a];
  review22 = json[0].review2[a+1];
data =  "<div class="+"\""+"r3"+"\""+"><img src="+"\""+"star"+total2+".PNG"+"\"" +"id="+"\""+"rstar"+"\""+"class="+"\""+"star"+"\""+"><div class="+"\""+"r33"+"\""+" id="+"\""+"r33"+"\""+">"+review1+"</div><div class="+"\""+"r333"+"\""+" id="+"\""+"r333"+"\""+">"+review2+"</div></div><div class="+"\""+"r32"+"\""+"><img src="+"\""+"star"+total22+".PNG"+"\""+" id="+"\""+"rstar"+"\""+" class="+"\""+"star"+"\""+"><div class="+"\""+"r33"+"\""+" id="+"\""+"r33"+"\""+">"+review11+"</div><div class="+"\""+"r333"+"\""+" id="+"\""+"r333"+"\""+">"+review22+"</div></div>";
alll3.insertAdjacentHTML("beforeend",data);
}
}
function rallshow(){
if(typeof final == 'undefined'){
  console.log("length:"+length)
}else{
  alert("すべて表示しました");
  return;
}
document.getElementById("ppp").innerHTML = "全表示";
for(var a = 10; a<length; a+=2){
  total2 = json[0].review3[a];
  total22 = json[0].review3[a+1]
  review1 = json[0].review1[a];
  review11 = json[0].review1[a+1];
  review2 = json[0].review2[a];
  review22 = json[0].review2[a+1];
data =  "<div class="+"\""+"r3"+"\""+"><img src="+"\""+"star"+total2+".PNG"+"\"" +"id="+"\""+"rstar"+"\""+"class="+"\""+"star"+"\""+"><div class="+"\""+"r33"+"\""+" id="+"\""+"r33"+"\""+">"+review1+"</div><div class="+"\""+"r333"+"\""+" id="+"\""+"r333"+"\""+">"+review2+"</div></div><div class="+"\""+"r32"+"\""+"><img src="+"\""+"star"+total22+".PNG"+"\""+" id="+"\""+"rstar"+"\""+" class="+"\""+"star"+"\""+"><div class="+"\""+"r33"+"\""+" id="+"\""+"r33"+"\""+">"+review11+"<div><div class="+"\""+"r333"+"\""+" id="+"\""+"r333"+"\""+">"+review22+"</div></div>";
alll3.insertAdjacentHTML("beforeend",data);
}
final='';
}


 
n1 = 0;
function fevo0(){
if(n1 == 0){
document.getElementById("favorite0").style.backgroundColor = "pink";
n1++;
datanum  = pagecount*10-10+0;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
}else if(n1 == 1){
document.getElementById("favorite0").style.backgroundColor = "";
n1 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+0;
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";
data2 = ">>*";
data1 = cd.indexOf(data)+data.length;
data2 = cd.indexOf(data2,data1)+data2.length;
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
console.log("修正完了");
}
}
n2 = 0;
function fevo1(){
if(n2 == 0){
document.getElementById("favorite1").style.backgroundColor = "pink";
n2++;
datanum  = pagecount*10-10+1;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;var name
}else if(n2 == 1){
document.getElementById("favorite1").style.backgroundColor = "";
n2 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+1;
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";
data2 = ">>*";
data1 = cd.indexOf(data)+data.length;
data2 = cd.indexOf(data2,data1)+data2.length;
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
console.log("修正完了");
}
}
n3= 0;
function fevo2(){
if(n3 == 0){
  document.getElementById("favorite2").style.backgroundColor = "pink";
  n3++;
  datanum  = pagecount*10-10+2;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
}else if(n3 == 1){
  document.getElementById("favorite2").style.backgroundColor = "";
n3 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+2;
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";
data2 = ">>*";
data1 = cd.indexOf(data)+data.length;
data2 = cd.indexOf(data2,data1)+data2.length;
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
console.log("修正完了");
}
}
n4 = 0;
function fevo3(){
if(n4 == 0){
  document.getElementById("favorite3").style.backgroundColor = "pink";
  n4++;
  datanum  = pagecount*10-10+3;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
}else if(n4 == 1){
  document.getElementById("favorite3").style.backgroundColor = "";
n4 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+3;
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";
data2 = ">>*";
data1 = cd.indexOf(data)+data.length;
data2 = cd.indexOf(data2,data1)+data2.length;
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
console.log("修正完了");
}
}
n5 = 0;
function fevo4(){
if(n5 == 0){
document.getElementById("favorite4").style.backgroundColor = "pink";
n5++;
datanum  = pagecount*10-10+4;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
}else if(n5 == 1){
document.getElementById("favorite4").style.backgroundColor = "";
n5 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+4;
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";
data2 = ">>*";
data1 = cd.indexOf(data)+data.length;
data2 = cd.indexOf(data2,data1)+data2.length;
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
console.log("修正完了");
}
}
n6 = 0;
function fevo5(){
if(n6 == 0){
document.getElementById("favorite5").style.backgroundColor = "pink";
n6++;
datanum  = pagecount*10-10+5;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
}else if(n6 == 1){
document.getElementById("favorite5").style.backgroundColor = "";
n6 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+5;
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";
data2 = ">>*";
data1 = cd.indexOf(data)+data.length;
data2 = cd.indexOf(data2,data1)+data2.length;
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
console.log("修正完了");
}
}
n7 = 0;
function fevo6(){
if(n7 == 0){
  document.getElementById("favorite6").style.backgroundColor = "pink";
  n7++;
  datanum  = pagecount*10-10+6;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
}else if(n7 == 1){
  document.getElementById("favorite6").style.backgroundColor = "";
n7 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+6;
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";
data2 = ">>*";
data1 = cd.indexOf(data)+data.length;
data2 = cd.indexOf(data2,data1)+data2.length;
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
console.log("修正完了");
}
}
n8 = 0;
function fevo7(){
if(n8 == 0){
  document.getElementById("favorite7").style.backgroundColor = "pink";
  n8++;
  datanum  = pagecount*10-10+7;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
}else if(n8 == 1){
  document.getElementById("favorite7").style.backgroundColor = "";
n8 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+7;
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";
data2 = ">>*";
data1 = cd.indexOf(data)+data.length;
data2 = cd.indexOf(data2,data1)+data2.length;
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
console.log("修正完了");
}
}
n9 = 0;
function fevo8(){
if(n9 == 0){
document.getElementById("favorite8").style.backgroundColor = "pink";
n9++;
datanum  = pagecount*10-10+8;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
}else if(n9 == 1){
document.getElementById("favorite8").style.backgroundColor = "";
n9 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+8;
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";
data2 = ">>*";
data1 = cd.indexOf(data)+data.length;
data2 = cd.indexOf(data2,data1)+data2.length;
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
console.log("修正完了");
}
}
n10 = 0;
function fevo9(){
if(n10 == 0){
document.getElementById("favorite9").style.backgroundColor = "pink";
n10++;
datanum  = pagecount*10-10+9;
favoritenuml+=1;
data = "favoriten"+favoritenuml+"="+datanum+"<<*"+sn+">>*";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
data = "favoritenuml="+favoritenuml+">>!";
document.cookie = data;
}else if(n10 == 1){
document.getElementById("favorite9").style.backgroundColor = "";
n10 = 0;
cd = document.cookie;
  datanum  = pagecount*10-10+9
datanum2 = datanum;
for(var a=1; a<=favoritenuml; a++){
d1 = "favoriten"+a+"=";
d1 = cd.indexOf(d1)+d1.length;
console.log("d1:"+d1);
d2 = cd.indexOf(">>*",d1);
data = cd.substring(d1,d2);
  console.log("DATA:"+data);
d3 = data.indexOf("<<*")+3; //3が間違ってるかも
console.log("d3:"+d3);
d4 = d3+data.length-3;
console.log("d4:"+d4);
data2 = data.substring(d3,d4);
console.log("data2："+data2);
if(data2 == sn){
data3 = data.substring(0,d3-3);
console.log("no.2:"+data3);
if(data3 == datanum2){
console.log("find");
data4 = a;
}
}
}
//削除機能重大欠陥あり　対処必須
//番号から検索してfavoritenumlを割り出す 具体的にはdatanumと0-9の計算で番号1をだす
//次にforを使って番号1と一致するときの番号を割り出す。
//最後に一致した番号を用いてCookieからの削除を行う
//空いてしまった番号をつめる処理を行う ここまで完了　　1/30
if(typeof data4== 'undefined'){
  console.log("I can't find data4");
  return;
}
data = "favoriten"+data4+"=; max-age=0";
document.cookie = data;
document.cookie = "favoritenuml=; max-age=0";
//空いてしまった番号の次の番号のデータを取得→番号を-1して再度Cookieに記載する
//上記の処理をforを用いて実行 ここも完了.   1/30
if(favoritenuml == 1){
  console.log("修正完了...");
  favoritenuml = 0;
  document.cookie = "favoritenuml=0>>!";
  return;
}
for(var a=data4+1; a<=favoritenuml; a++){
data = "favoriten"+a+"=";var name
data3 = cd.substring(data1,data2); 
console.log("修正前データ:"+data3);
ddata = "favoriten"+a+"=; max-age=0";
document.cookie = ddata;
console.log("修正前データ削除完了");
a = parseInt(a);
a2 = a-1;
pdata = "favoriten"+a2+"="+data3;
console.log("pdata:"+pdata);
document.cookie = pdata;
console.log("修正"+a+"完了→"+a2);
}
favoritenuml-=1;var name
}
}


function go(){
location.href="index.html";
}
numlist='';
numlist2 = '';
function favocheck(){
  console.log("favocheckstart");
numlist = [];
for(var a=0; a<favoritenuml; a++){
  ctext = "favoriten"+a+"=";
  ctext3 = "<<*";
  ctext2 = ">>*";
  c1 = cd.indexOf(ctext);
  c3 = cd.indexOf(ctext3,c1);
  c2 = cd.indexOf(ctext2,c1);
  checknum = cd.substring(c3+ctext3.length,c2);
  console.log("checknum:"+checknum);
  if(checknum == sn){
    text = cd.substring(c1+ctext.length,c3);
    numlist.push(text);
  }
}
console.log("numlist："+numlist);var name
numlist2 = numlist.length;
for(var a = 0; a<numlist2; a++){
  var num = numlist[a];
  if(num <10){
    var text = "favorite"+num;
    document.getElementById(text).style.backgroundColor = "pink";
    if(num == 0){
      n1 = 1;
    }else if(num ==1){
      n2 = 1;
    }else if(num == 2){
      n3 = 1;
    }else if(num == 3){
      n4 = 1;
    }else if(num == 4){
      n5 = 1;
    }else if(num == 5){
      n6 = 1;
    }else if(num == 6){
      n7 = 1;
    }else if(num == 7){
      n8 = 1;
    }else if(num == 8){
      n9 = 1;
    }else if(num == 9){
      n10 = 1;
    }
  }
}

}
reviewnme = '';
function review0(){
  document.getElementById("alll").style.display = "none";
  document.getElementById("alll").style.opacity = "0";
  document.getElementById("alll2").style.display = "block";
  //changedata[0].name fee express (mjson)
  var num = pagecount*10-10+0;
  reviewname =  mjson.changedata[0].name[num];
  var fee = mjson.changedata[0].fee[num];
  var express = mjson.changedata[0].express[num];
  //このあと完成形では写真画像と　★の画像
  document.getElementById("h2").innerHTML = reviewname;
  document.getElementById("p").innerHTML = express;
  document.getElementById("h4").innerHTML = fee;
  getreview();
  }
  function review1(){
    document.getElementById("alll").style.display = "none";
    document.getElementById("alll").style.opacity = "0";
    document.getElementById("alll2").style.display = "block";
    //changedata[0].name fee express (mjson)
    var num = pagecount*10-10+1;
    reviewname =  mjson.changedata[0].name[num];
    var fee = mjson.changedata[0].fee[num];
    var express = mjson.changedata[0].express[num];
    //このあと完成形では写真画像と　★の画像
    document.getElementById("h2").innerHTML = reviewname;
    document.getElementById("p").innerHTML = express;
    document.getElementById("h4").innerHTML = fee;
    getreview();
    }
    function review2(){
      document.getElementById("alll").style.display = "none";
      document.getElementById("alll").style.opacity = "0";
      document.getElementById("alll2").style.display = "block";
      //changedata[0].name fee express (mjson)
      var num = pagecount*10-10+2;
      reviewname =  mjson.changedata[0].name[num];
      var fee = mjson.changedata[0].fee[num];
      var express = mjson.changedata[0].express[num];
      //このあと完成形では写真画像と　★の画像
      document.getElementById("h2").innerHTML = reviewname;
      document.getElementById("p").innerHTML = express;
      document.getElementById("h4").innerHTML = fee;
      getreview();
      }
      function review3(){
        document.getElementById("alll").style.display = "none";
        document.getElementById("alll").style.opacity = "0";
        document.getElementById("alll2").style.display = "block";
        //changedata[0].name fee express (mjson)
        var num = pagecount*10-10+3;
        reviewname =  mjson.changedata[0].name[num];
        var fee = mjson.changedata[0].fee[num];
        var express = mjson.changedata[0].express[num];
        //このあと完成形では写真画像と　★の画像
        document.getElementById("h2").innerHTML = reviewname;
        document.getElementById("p").innerHTML = express;
        document.getElementById("h4").innerHTML = fee;
        getreview();
        }
        function review4(){
          document.getElementById("alll").style.display = "none";
          document.getElementById("alll").style.opacity = "0";
          document.getElementById("alll2").style.display = "block";
          //changedata[0].name fee express (mjson)
          var num = pagecount*10-10+4;
          reviewname =  mjson.changedata[0].name[num];
          var fee = mjson.changedata[0].fee[num];
          var express = mjson.changedata[0].express[num];
          //このあと完成形では写真画像と　★の画像
          document.getElementById("h2").innerHTML = reviewname;
          document.getElementById("p").innerHTML = express;
          document.getElementById("h4").innerHTML = fee;
          getreview();
          }
          function review5(){
            document.getElementById("alll").style.display = "none";
            document.getElementById("alll").style.opacity = "0";
            document.getElementById("alll2").style.display = "block";
            //changedata[0].name fee express (mjson)
            var num = pagecount*10-10+5;
            reviewname =  mjson.changedata[0].name[num];
            var fee = mjson.changedata[0].fee[num];
            var express = mjson.changedata[0].express[num];
            //このあと完成形では写真画像と　★の画像
            document.getElementById("h2").innerHTML = reviewname;
            document.getElementById("p").innerHTML = express;
            document.getElementById("h4").innerHTML = fee;
            getreview();
            }
            function review6(){
              document.getElementById("alll").style.display = "none";
              document.getElementById("alll").style.opacity = "0";
              document.getElementById("alll2").style.display = "block";
              //changedata[0].name fee express (mjson)
              var num = pagecount*10-10+6;
              reviewname =  mjson.changedata[0].name[num];
              var fee = mjson.changedata[0].fee[num];
              var express = mjson.changedata[0].express[num];
              //このあと完成形では写真画像と　★の画像
              document.getElementById("h2").innerHTML = reviewname;
              document.getElementById("p").innerHTML = express;
              document.getElementById("h4").innerHTML = fee;
              getreview();
              }
              function review7(){
                document.getElementById("alll").style.display = "none";
                document.getElementById("alll").style.opacity = "0";
                document.getElementById("alll2").style.display = "block";
                //changedata[0].name fee express (mjson)
                var num = pagecount*10-10+7;
                reviewname =  mjson.changedata[0].name[num];
                var fee = mjson.changedata[0].fee[num];
                var express = mjson.changedata[0].express[num];
                //このあと完成形では写真画像と　★の画像
                document.getElementById("h2").innerHTML = reviewname;
                document.getElementById("p").innerHTML = express;
                document.getElementById("h4").innerHTML = fee;
                getreview();
                }
                function review8(){
                  document.getElementById("alll").style.display = "none";
                  document.getElementById("alll").style.opacity = "0";
                  document.getElementById("alll2").style.display = "block";
                  //changedata[0].name fee express (mjson)
                  var num = pagecount*10-10+8;
                  reviewname =  mjson.changedata[0].name[num];
                  var fee = mjson.changedata[0].fee[num];
                  var express = mjson.changedata[0].express[num];
                  //このあと完成形では写真画像と　★の画像
                  document.getElementById("h2").innerHTML = reviewname;
                  document.getElementById("p").innerHTML = express;
                  document.getElementById("h4").innerHTML = fee;
                  getreview();
                  }
                  function review9(){
                    document.getElementById("alll").style.display = "none";
                    document.getElementById("alll").style.opacity = "0";
                    document.getElementById("alll2").style.display = "block";
                    //changedata[0].name fee express (mjson)
                    var num = pagecount*10-10+9;
                    reviewname =  mjson.changedata[0].name[num];
                    var fee = mjson.changedata[0].fee[num];
                    var express = mjson.changedata[0].express[num];
                    //このあと完成形では写真画像と　★の画像 とレビュー
                    document.getElementById("h2").innerHTML = reviewname;
                    document.getElementById("p").innerHTML = express;
                    document.getElementById("h4").innerHTML = fee;
                    getreview();
                    }